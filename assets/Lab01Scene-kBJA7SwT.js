import{t as c,w as p,z as e,a6 as j,a0 as g,ac as b,a7 as I,a3 as m,m as S}from"./three-B9-2A0-2.js";import{a as C,u as R}from"./index-SHItErlE.js";import{u as v,I as k}from"./useInventory-D_1hzwLu.js";import"./vendor-CqO7gtIP.js";import"./animation-DsH0_-YU.js";import"./postprocessing-Qbs0T82m.js";const M=({id:t,position:o=[0,0,0]})=>{const s=c.useRef(),[r,i]=c.useState(!1),{addItem:d,hasItem:u}=v(),{playClick:l,playHover:h}=C(),n=k[t];if(u(t))return null;p((x,f)=>{s.current&&(s.current.rotation.y+=f*1.5,s.current.rotation.z+=f*.5)});const y=x=>{x.stopPropagation(),d(t)&&l()};return e.jsx(j,{speed:4,rotationIntensity:1,floatIntensity:1,children:e.jsxs("group",{position:o,children:[e.jsxs("mesh",{ref:s,onClick:y,onPointerOver:()=>{i(!0),h()},onPointerOut:()=>i(!1),scale:r?1.2:1,children:[e.jsx("octahedronGeometry",{args:[.3,0]}),e.jsx("meshStandardMaterial",{color:r?"#00ffaa":"#00ffff",emissive:r?"#00ffaa":"#00ffff",emissiveIntensity:2,wireframe:!0,transparent:!0,opacity:.8})]}),e.jsx("pointLight",{distance:3,intensity:2,color:"#00ffff"}),r&&e.jsx(g,{position:[0,.5,0],center:!0,distanceFactor:10,children:e.jsxs("div",{className:"bg-black/90 border border-emerald-500/50 px-3 py-1 rounded text-xs font-mono text-emerald-400 whitespace-nowrap backdrop-blur-md",children:["[CLICK] TO COLLECT ",n?n.name.toUpperCase():"UNKNOWN"]})})]})})},O=({config:t})=>{const o=c.useRef(),s=c.useRef(),r=c.useRef();p((h,n)=>{const a=.05+t.speed*.5;o.current&&(o.current.rotation.x+=n*a*.5,o.current.rotation.y+=n*a*.3),s.current&&(s.current.rotation.x-=n*a*.3,s.current.rotation.z+=n*a*.2),r.current&&(r.current.rotation.y+=n*a*.1,r.current.rotation.z-=n*a*.1)});const i=2.8+t.distort*.5,d=3.2+t.distort*1.5,u=3.6+t.distort*3,l=.05+t.distort*.4;return e.jsxs("group",{children:[e.jsxs("mesh",{ref:o,scale:i,children:[e.jsx("icosahedronGeometry",{args:[1,0]}),e.jsx("meshBasicMaterial",{color:t.color,wireframe:!0,transparent:!0,opacity:.3,blending:m})]}),e.jsxs("points",{ref:s,scale:d,children:[e.jsx("icosahedronGeometry",{args:[1,2]})," ",e.jsx("pointsMaterial",{color:"#ffffff",size:.08,sizeAttenuation:!0,transparent:!0,opacity:l,blending:m})]}),e.jsxs("mesh",{ref:r,scale:u,children:[e.jsx("icosahedronGeometry",{args:[1,0]}),e.jsx("meshPhongMaterial",{color:t.color,transparent:!0,opacity:l*.2,shininess:100,wireframe:!1,blending:m,side:S,depthWrite:!1})]})]})},F=()=>{const t=R(s=>s.lab01Config),o=c.useRef();return p((s,r)=>{if(o.current){const i=.05+t.speed*.4;o.current.rotation.x+=r*i*.5,o.current.rotation.y+=r*i*1}}),e.jsxs("group",{children:[e.jsx("color",{attach:"background",args:["#010204"]}),e.jsx(b,{preset:"city"}),e.jsx(j,{speed:2,rotationIntensity:.1,floatIntensity:.1,children:e.jsxs("mesh",{ref:o,position:[0,0,0],scale:2.5,children:[e.jsx("icosahedronGeometry",{args:[1,0]}),e.jsx(I,{backside:!0,samples:16,thickness:2,chromaticAberration:.5+t.distort*1.5,anisotropy:20,distortion:.4,distortionScale:.5,temporalDistortion:t.speed*.5,iridescence:1,iridescenceIOR:1,roughness:0,ior:1.5,color:t.color,transmission:1})]})}),e.jsx(O,{config:t}),e.jsx("gridHelper",{args:[30,30,2042167,0],position:[0,-4,0]}),e.jsx(M,{id:"fragment_01",position:[3,0,0]})]})};export{F as default};
