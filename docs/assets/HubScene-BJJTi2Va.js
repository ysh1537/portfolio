import{r as n,x as S,C,j as e,a0 as H,a1 as D,a2 as v,m as E,a3 as B,K as b,J as X,n as R,a4 as Y,a5 as T,a6 as z,a7 as A,$ as J,a8 as K,a9 as O,b as $,aa as U,ab as V,ac as q,ad as k}from"./three-C3NlESEC.js";import{b as L,L as y,u as M,r as Q,c as Z,d as ee}from"./index-BJ68pjNm.js";import"./vendor-CqO7gtIP.js";import"./animation-r5s8DLQG.js";const se=({isActive:t})=>{const s=n.useRef(),a=n.useRef(),r=n.useRef(),[o,h]=n.useState(!1),{playHover:u,playClick:i}=L(),l=t!==void 0?t:o;return S((m,c)=>{const p=m.clock.getElapsedTime();if(s.current){const d=l?1.6:1;s.current.scale.lerp(new b(d,d,d),c*4)}if(a.current&&(a.current.rotation.y=p*.1),r.current){const d=l?1.4:1.2;r.current.scale.setScalar(d+Math.sin(p*3)*.05),r.current.rotation.z-=.01}}),new C(y.SECTORS.PROFILE.visual.color),new C(y.SECTORS.PROFILE.visual.color).multiplyScalar(1.2),e.jsxs("group",{ref:s,onPointerEnter:m=>{m.stopPropagation(),h(!0),u(),document.body.style.cursor="pointer"},onPointerLeave:()=>{h(!1),document.body.style.cursor="auto"},children:[e.jsx(H,{ref:a,args:[5.5,128,128],onClick:m=>{m.stopPropagation(),i(),M.getState().setScene("profile")},onPointerOver:()=>h(!0),onPointerOut:()=>h(!1),children:e.jsx(D,{color:"#00f2ff",emissive:"#0066ff",emissiveIntensity:4,distort:.3,speed:2,roughness:0,metalness:1,toneMapped:!1})}),e.jsx("pointLight",{distance:100,intensity:30,color:"#00f2ff",decay:2}),e.jsxs("mesh",{ref:r,scale:[1.15,1.15,1.15],children:[e.jsx("sphereGeometry",{args:[5.5,64,64]}),e.jsx("meshBasicMaterial",{color:"#0066ff",transparent:!0,opacity:.25,side:E,blending:v,depthWrite:!1})]}),e.jsxs("mesh",{scale:[1.6,1.6,1.6],children:[e.jsx("sphereGeometry",{args:[5.5,64,32]}),e.jsx("meshBasicMaterial",{color:"#0033ff",transparent:!0,opacity:.15,side:E,blending:v,depthWrite:!1})]}),e.jsx(B,{count:120,scale:20,size:20,speed:1.2,opacity:.7,color:"#00f2ff",noise:3}),e.jsx(B,{count:40,scale:15,size:35,speed:.8,opacity:.4,color:"#ffffff",noise:2})]})},te=({color:t,isActive:s})=>{const a=n.useRef(),r=n.useRef(),o=n.useRef();return S((h,u)=>{const i=h.clock.getElapsedTime(),l=s?1.6:1;a.current.scale.lerp(new b(l,l,l),u*4),a.current.rotation.y=i*.1,r.current.rotation.x=-i*.5,o.current.rotation.y=i*.3,r.current.scale.setScalar(.4+Math.sin(i*3)*.05)}),e.jsx(T,{speed:1.5,rotationIntensity:.5,floatIntensity:1,children:e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{ref:r,children:[e.jsx("icosahedronGeometry",{args:[2,2]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:20,transparent:!0,opacity:.9})]}),e.jsxs("mesh",{ref:o,children:[e.jsx("octahedronGeometry",{args:[4.2,0]}),e.jsx(z,{backside:!0,backsideThickness:15,thickness:10,roughness:.05,transmission:1,ior:2.2,chromaticAberration:25,anisotropy:10,distortion:.2,distortionScale:.5,temporalDistortion:.1,color:t,background:new C("#000000")})]}),e.jsxs("mesh",{ref:o,scale:1.01,children:[e.jsx("octahedronGeometry",{args:[4.2,0]}),e.jsx("meshBasicMaterial",{color:t,wireframe:!0,transparent:!0,opacity:.3,blending:v})]}),e.jsx(B,{count:40,scale:12,size:15,speed:1,opacity:.6,color:t})]})})},re=({color:t,isActive:s})=>{const a=n.useRef(),r=n.useRef(),o=n.useMemo(()=>Array.from({length:42}).map(()=>Math.random()*Math.PI*2),[]);return S((h,u)=>{const i=h.clock.getElapsedTime(),l=s?1.6:1;a.current.scale.lerp(new b(l,l,l),u*4),a.current.rotation.y=i*.1,r.current&&r.current.children.forEach((m,c)=>{if(m.material){const p=1+Math.sin(i*3+o[c])*.3;m.scale.setScalar(p),m.material.emissiveIntensity=5+Math.sin(i*5+o[c])*10}})}),e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{children:[e.jsx("icosahedronGeometry",{args:[2.5,1]}),e.jsx("meshBasicMaterial",{color:"#000000"})]}),e.jsxs("mesh",{children:[e.jsx("icosahedronGeometry",{args:[3.5,2]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:2,wireframe:!0,transparent:!0,opacity:.4})]}),e.jsx("group",{ref:r,children:e.jsxs(Y,{args:[3.6,1],children:[e.jsx("meshBasicMaterial",{visible:!1}),Array.from({length:42}).map((h,u)=>e.jsxs("mesh",{position:new b().setFromSphericalCoords(4,Math.acos(1-2*(u/42)),Math.PI*2*u/1.618),children:[e.jsx("boxGeometry",{args:[.25,.25,.25]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:10})]},u))]})}),e.jsxs("mesh",{rotation:[Math.PI/4,0,0],children:[e.jsx("icosahedronGeometry",{args:[4.2,1]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:1,wireframe:!0,transparent:!0,opacity:.15})]}),e.jsx(B,{count:60,scale:10,size:5,speed:2,opacity:.8,color:t})]})},ae=({color:t,isActive:s})=>{const a=n.useRef(),r=n.useRef(),o=n.useRef(),h=25,u=n.useMemo(()=>Array.from({length:h}).map((i,l)=>({radius:6+l*.15,opacity:Math.random()*.3+.1,speed:Math.random()*.05+.02})),[]);return S((i,l)=>{const m=i.clock.getElapsedTime(),c=s?1.6:1;a.current.scale.lerp(new b(c,c,c),l*4),a.current.rotation.y=m*.05,r.current.rotation.y=-m*.1,o.current&&o.current.children.forEach((p,d)=>{p.rotation.z=m*u[d].speed})}),e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[4.5,64,64]}),e.jsx("meshStandardMaterial",{color:t,roughness:.8,metalness:.1,emissive:t,emissiveIntensity:.5})]}),e.jsxs("mesh",{scale:1.03,ref:r,children:[e.jsx("sphereGeometry",{args:[4.5,32,16]}),e.jsx("meshStandardMaterial",{color:"#fcd34d",transparent:!0,opacity:.25,wireframe:!0})]}),e.jsx("group",{ref:o,rotation:[Math.PI/2.5,.4,0],children:u.map((i,l)=>e.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[i.radius,i.radius+.02,128]}),e.jsx("meshBasicMaterial",{color:t,transparent:!0,opacity:i.opacity,side:R})]},l))}),e.jsxs("mesh",{scale:1.2,children:[e.jsx("sphereGeometry",{args:[4.5,32,32]}),e.jsx("meshBasicMaterial",{color:t,transparent:!0,opacity:.05,side:E})]}),e.jsx(B,{count:80,scale:18,size:4,speed:.5,opacity:.6,color:"#fde68a"})]})},oe=({color:t,isActive:s})=>{const a=n.useRef(),r=n.useRef(),[o,h]=n.useState([0,0,0]),[u,i]=n.useState(1),l=n.useRef(1),m=n.useMemo(()=>Array.from({length:40}).map(()=>({pos:[Math.random()-.5,Math.random()-.5,Math.random()-.5],rot:[Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI],scale:Math.random()*.5+.2})),[]);return S((c,p)=>{const d=c.clock.getElapsedTime();a.current.rotation.y=d*.2,Math.random()>.96?(h([(Math.random()-.5)*.4,(Math.random()-.5)*.4,(Math.random()-.5)*.4]),i(1+(Math.random()-.5)*.2)):Math.random()>.9&&(h([0,0,0]),i(1));const f=s?1.6:1;l.current=X.lerp(l.current,f,p*4);const P=u*l.current;a.current.position.set(...o),a.current.scale.setScalar(P)}),e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{children:[e.jsx("icosahedronGeometry",{args:[3.8,0]}),e.jsx("meshStandardMaterial",{color:"#000000"})]}),e.jsxs("mesh",{scale:.98,children:[e.jsx("icosahedronGeometry",{args:[3.8,1]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:15,wireframe:!0})]}),e.jsx("group",{ref:r,children:m.map((c,p)=>e.jsxs("mesh",{position:[c.pos[0]*8,c.pos[1]*6,c.pos[2]*8],rotation:c.rot,scale:c.scale,children:[e.jsx("boxGeometry",{args:[.5,.5,.5]}),e.jsx("meshStandardMaterial",{color:t,emissive:t,emissiveIntensity:5})]},p))}),e.jsxs("mesh",{scale:1.2,children:[e.jsx("sphereGeometry",{args:[3.8,4,32]}),e.jsx("meshBasicMaterial",{color:t,wireframe:!0,transparent:!0,opacity:.2})]}),e.jsx(B,{count:100,scale:10,size:15,speed:30,opacity:1,color:t,noise:10})]})},ne=({type:t,color:s,isActive:a})=>{switch(t){case"lab01":return e.jsx(te,{color:s,isActive:a});case"lab02":return e.jsx(re,{color:s,isActive:a});case"lab03":return e.jsx(ae,{color:s,isActive:a});case"lab04":return e.jsx(oe,{color:s,isActive:a});default:return e.jsx(H,{args:[1],children:e.jsx("meshStandardMaterial",{color:s})})}},F=({korName:t,engName:s,color:a,hovered:r})=>e.jsx(J,{transform:!0,center:!0,distanceFactor:12,style:{pointerEvents:"none"},children:e.jsxs("div",{className:`flex flex-col items-center transition-all duration-700 ${r?"scale-110 opacity-100":"scale-95 opacity-70"}`,children:[e.jsx("div",{className:"w-[1px] mb-2 bg-gradient-to-t from-white to-transparent transition-all duration-700",style:{height:r?"100px":"60px",opacity:r?.8:.3}}),e.jsxs("div",{className:`relative px-8 py-4 bg-black/60 backdrop-blur-md border border-white/10 transition-all duration-700 ${r?"border-white/50 shadow-[0_0_30px_rgba(255,255,255,0.2)]":""}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 border-t border-l border-white/50"}),e.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 border-t border-r border-white/50"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b border-l border-white/50"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-b border-r border-white/50"}),e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"text-[28px] md:text-[32px] font-sans font-bold tracking-[0.2em] text-white leading-tight whitespace-nowrap mb-1",style:{textShadow:r?`0 0 20px ${a}`:"none"},children:t}),e.jsx("span",{className:"text-[11px] md:text-[13px] font-orbitron font-bold tracking-[0.4em] whitespace-nowrap uppercase transition-colors duration-300",style:{color:r?a:"rgba(255, 255, 255, 0.8)"},children:s})]})]})]})}),ie=({lab:t,config:s,activeScene:a})=>{n.useRef();const r=n.useRef(),{playClick:o,playHover:h}=L(),[u,i]=n.useState(!1),l=M(c=>c.openMissionModal),m=u||a===s.target;return n.useEffect(()=>(Q(s.target,r),()=>Z(s.target)),[s.target]),S(c=>{const p=c.clock.getElapsedTime()*s.speedOffset,d=Math.cos(p)*s.xRadius,f=Math.sin(p)*s.zRadius;r.current.position.set(d,0,f)}),e.jsxs("group",{rotation:s.inclination,children:[e.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[s.xRadius-.05,s.xRadius+.05,128]}),e.jsx("meshBasicMaterial",{color:s.color,transparent:!0,opacity:.15,side:R})]}),e.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[s.xRadius-.1,s.xRadius+.1,128]}),e.jsx("meshBasicMaterial",{color:s.color,transparent:!0,opacity:.05,side:R})]}),e.jsxs("group",{ref:r,onClick:c=>{c.stopPropagation(),o();const p=new b;r.current.getWorldPosition(p),l({lab:t,config:s,warpPos:[p.x,p.y,p.z]})},onPointerEnter:()=>{i(!0),h(),document.body.style.cursor="pointer"},onPointerLeave:()=>{i(!1),document.body.style.cursor="auto"},children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[7,32,32]}),e.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1,colorWrite:!1})]}),e.jsx(ne,{type:s.target,color:s.color,isActive:m}),e.jsxs("mesh",{visible:m,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[s.target==="lab03"?11:5.5,s.target==="lab03"?11.5:6,64]}),e.jsx("meshBasicMaterial",{color:s.color,transparent:!0,opacity:.6,side:R,blending:v})]}),e.jsxs("mesh",{visible:m,rotation:[-Math.PI/2,0,0],scale:[1.1,1.1,1.1],children:[e.jsx("ringGeometry",{args:[s.target==="lab03"?11:5.5,s.target==="lab03"?11.1:5.6,64]}),e.jsx("meshBasicMaterial",{color:s.color,transparent:!0,opacity:.3,side:R,blending:v})]}),e.jsx(A,{position:[0,-14.5,0],children:e.jsx(F,{korName:s.korName,engName:s.engName,color:s.color,hovered:m})})]})]})},ce=()=>{const t=M(o=>o.currentScene),[s,a]=n.useState(!1),r=[{lab:y.SECTORS.LAB_01,config:{target:"lab01",color:y.SECTORS.LAB_01.visual.color,xRadius:18,zRadius:18,inclination:[0,0,0],speedOffset:.6,korName:"프로젝트",engName:"PROJECTS"}},{lab:y.SECTORS.LAB_02,config:{target:"lab02",color:y.SECTORS.LAB_02.visual.color,xRadius:28,zRadius:28,inclination:[Math.PI/12,0,0],speedOffset:.4,korName:"기술 연구소",engName:"TECH LAB"}},{lab:y.SECTORS.LAB_03,config:{target:"lab03",color:y.SECTORS.LAB_03.visual.color,xRadius:40,zRadius:40,inclination:[-Math.PI/16,0,0],speedOffset:.25,korName:"커리어",engName:"CAREER"}},{lab:y.SECTORS.LAB_04,config:{target:"lab04",color:y.SECTORS.LAB_04.visual.color,xRadius:54,zRadius:54,inclination:[Math.PI/10,0,Math.PI/20],speedOffset:.15,korName:"방명록",engName:"GUESTBOOK"}}];return e.jsxs("group",{children:[e.jsxs("group",{onClick:()=>M.getState().setScene("profile"),onPointerEnter:()=>{a(!0),document.body.style.cursor="pointer"},onPointerLeave:()=>{a(!1),document.body.style.cursor="auto"},children:[e.jsx(se,{isActive:s}),e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[10,32,32]}),e.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1,colorWrite:!1})]}),e.jsxs("mesh",{visible:s,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[8.5,9,64]}),e.jsx("meshBasicMaterial",{color:"#00f2ff",transparent:!0,opacity:.6,side:R,blending:v})]}),e.jsxs("mesh",{visible:s,rotation:[-Math.PI/2,0,0],scale:[1.05,1.05,1.05],children:[e.jsx("ringGeometry",{args:[8.5,8.6,64]}),e.jsx("meshBasicMaterial",{color:"#00f2ff",transparent:!0,opacity:.3,side:R,blending:v})]}),e.jsx(A,{position:[0,-16.5,0],children:e.jsx(F,{korName:"프로필",engName:"IDENTITY",color:"#00f2ff",hovered:!0})})]}),r.map((o,h)=>e.jsx(ie,{lab:o.lab,config:o.config,activeScene:t},h))]})},le=({position:t,label:s})=>e.jsxs("group",{position:t,children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[.05,16,16]}),e.jsx("meshBasicMaterial",{color:"#ffffff",toneMapped:!1})]}),e.jsxs("mesh",{scale:[1.5,1.5,1.5],children:[e.jsx("sphereGeometry",{args:[.05,16,16]}),e.jsx("meshBasicMaterial",{color:"#06b6d4",transparent:!0,opacity:.3,toneMapped:!1})]}),e.jsx(T,{speed:2,rotationIntensity:0,floatIntensity:.5,children:e.jsx(O,{position:[.2,.2,0],fontSize:.2,color:"rgba(255,255,255,0.5)",anchorX:"left",anchorY:"bottom",children:s})})]}),N=({points:t,color:s="#06b6d4"})=>{const a=n.useMemo(()=>t.map(r=>new b(...r.position)),[t]);return e.jsxs("group",{children:[e.jsx(K,{points:a,color:s,opacity:.1,transparent:!0,lineWidth:1}),t.map((r,o)=>e.jsx(le,{position:r.position,label:r.label},o))]})},de=()=>{const t=n.useRef(),s=M(o=>o.performanceMode);if(S(o=>{t.current&&(t.current.rotation.y=o.clock.getElapsedTime()*.01)}),s==="low")return null;const a=[{label:"REACT",position:[-15,5,-10]},{label:"THREE.JS",position:[-12,8,-8]},{label:"NEXT.JS",position:[-10,4,-12]},{label:"TYPESCRIPT",position:[-14,2,-9]}],r=[{label:"WEBGL",position:[10,6,-15]},{label:"GLSL",position:[13,3,-12]},{label:"BLENDER",position:[8,-2,-10]},{label:"R3F",position:[15,8,-14]}];return e.jsxs("group",{ref:t,children:[e.jsx(N,{points:a,color:"#06b6d4"}),e.jsx(N,{points:r,color:"#7c3aed"})]})},he=({position:t=[16,6,8]})=>{const s=n.useRef(),a=n.useRef(),r=n.useRef(),o=n.useRef(),h=M(x=>x.openBlackBox),u=M(x=>x.setHoverState),i=M(x=>x.performanceMode),{playHover:l,playClick:m}=L(),[c,p]=n.useState(!1),d=i==="high";S(x=>{const g=x.clock.elapsedTime;if(s.current){const j=c?4:1;s.current.scale.lerp(new b(j,j,j),.1)}if(a.current&&(a.current.rotation.x+=.005,a.current.rotation.y+=.008),r.current){const j=Math.sin(g*2)*.1+1;r.current.scale.setScalar(j)}if(o.current){const w=g*1.5%1,_=1.5+w*2,W=.6*(1-w);o.current.scale.setScalar(_),o.current.material.opacity=W}});const f=x=>{x.stopPropagation(),u(!0),p(!0),l(),document.body.style.cursor="pointer"},P=()=>{u(!1),p(!1),document.body.style.cursor="none"},I=x=>{x.stopPropagation(),m(),h()},G=n.useMemo(()=>{const x=[];for(let g=0;g<6;g++){const j=g/6*Math.PI*2;x.push({start:[Math.cos(j)*1.5,0,Math.sin(j)*1.5],end:[Math.cos(j)*3,(Math.random()-.5)*2,Math.sin(j)*3]})}return x},[]);return e.jsx("group",{ref:s,position:t,children:e.jsxs(T,{speed:1.5,rotationIntensity:.3,floatIntensity:.5,children:[e.jsxs("mesh",{onClick:I,onPointerOver:f,onPointerOut:P,children:[e.jsx("boxGeometry",{args:[5,5,5]}),e.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1,colorWrite:!1})]}),e.jsxs("mesh",{visible:c,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[3,3.2,64]}),e.jsx("meshBasicMaterial",{color:"#00ffff",transparent:!0,opacity:.6,side:R,blending:v})]}),e.jsxs("mesh",{ref:a,children:[e.jsx("boxGeometry",{args:[1.5,1.5,1.5]}),d?e.jsx(z,{backside:!0,samples:8,resolution:256,transmission:.9,roughness:.1,thickness:.5,ior:1.5,chromaticAberration:.1,color:"#06b6d4"}):e.jsx("meshStandardMaterial",{color:"#06b6d4",transparent:!0,opacity:.8,metalness:.9,roughness:.1})]}),e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[.5,.5,.5]}),e.jsx("meshBasicMaterial",{color:"#00ffff"})]}),e.jsxs("mesh",{ref:r,children:[e.jsx("sphereGeometry",{args:[1.8,16,16]}),e.jsx("meshBasicMaterial",{color:"#06b6d4",transparent:!0,opacity:.15,side:E})]}),e.jsxs("mesh",{ref:o,children:[e.jsx("sphereGeometry",{args:[1,32,32]}),e.jsx("meshBasicMaterial",{color:"#00ffff",transparent:!0,opacity:0,side:R})]}),d&&G.map((x,g)=>e.jsx(me,{start:x.start,end:x.end,delay:g*.2},g)),e.jsx(O,{position:[0,-2.5,0],fontSize:.3,color:"#06b6d4",anchorX:"center",anchorY:"middle",children:"BLACK BOX"}),e.jsx(O,{position:[0,-3,0],fontSize:.15,color:"#06b6d4",anchorX:"center",anchorY:"middle",fillOpacity:.6,children:"[CLICK TO ACCESS ARCHIVE]"})]})})},me=({start:t,end:s,delay:a})=>{const r=n.useRef();S(u=>{if(r.current){const i=Math.sin(u.clock.elapsedTime*3+a)>0;r.current.visible=i}});const o=n.useMemo(()=>[new b(...t),new b(...s)],[t,s]),h=n.useMemo(()=>new $().setFromPoints(o),[o]);return e.jsx("line",{ref:r,geometry:h,children:e.jsx("lineBasicMaterial",{color:"#06b6d4",transparent:!0,opacity:.4})})},pe=({count:t=500})=>{const s=n.useRef(),r=M(i=>i.performanceMode)==="high",o=r?t:t/2,h=n.useMemo(()=>new U,[]),u=n.useMemo(()=>{const i=[];for(let l=0;l<o;l++){const m=Math.random()*100,c=20+Math.random()*100,p=.01+Math.random()/200,d=-50+Math.random()*100,f=-50+Math.random()*100,P=-50+Math.random()*100;i.push({t:m,factor:c,speed:p,xFactor:d,yFactor:f,zFactor:P,mx:0,my:0})}return i},[o]);return S(i=>{if(!s.current)return;const l=i.pointer.x*i.viewport.width/2,m=i.pointer.y*i.viewport.height/2;u.forEach((c,p)=>{let{t:d,factor:f,speed:P,xFactor:I,yFactor:G,zFactor:x}=c;d=c.t+=P/2;const g=Math.cos(d)+Math.sin(d*1)/10,j=Math.sin(d)+Math.cos(d*2)/10,w=Math.cos(d);c.mx+=(l-c.mx)*.01,c.my+=(m-c.my)*.01,h.position.set(c.mx/10+g+I+Math.cos(d/10*f)+Math.sin(d*1)*f/10,c.my/10+j+G+Math.sin(d/10*f)+Math.cos(d*2)*f/10,j+x+Math.cos(d/10*f)+Math.sin(d*3)*f/10),h.scale.setScalar(w*.5+.5),h.rotation.set(w*5,w*5,w*5),h.updateMatrix(),s.current.setMatrixAt(p,h.matrix)}),s.current.instanceMatrix.needsUpdate=!0}),e.jsxs("instancedMesh",{ref:s,args:[null,null,o],children:[e.jsx("dodecahedronGeometry",{args:[.05,0]})," ",e.jsx("meshBasicMaterial",{color:r?"#a5f3fc":"#ffffff",transparent:!0,opacity:.6,blending:v})]})},ge=()=>{const s=M(a=>a.performanceMode)==="high";return e.jsxs("group",{position:[0,-1,0],children:[s&&e.jsx(ee,{}),s&&e.jsx(pe,{count:800}),e.jsx(V,{preset:"city"}),e.jsx(q,{radius:300,depth:60,count:s?15e3:1500,factor:s?7:5,saturation:.9,fade:!0,speed:s?.3:0}),e.jsx(B,{count:s?1e3:50,scale:50,size:s?3:1.5,speed:s?.2:0,opacity:.5,color:"#88ccff",noise:.3}),e.jsx("fog",{attach:"fog",args:["#020208",30,90]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(k,{opacity:.3,seed:10,position:[35,5,-40],speed:.2,color:"#5b21b6",segments:30,bounds:[15,3,3],volume:20}),e.jsx(k,{opacity:.25,seed:20,position:[-35,-5,-40],speed:.15,color:"#0e7490",segments:30,bounds:[15,3,3],volume:20}),e.jsx(k,{opacity:.1,seed:30,position:[0,20,-50],speed:.1,color:"#374151",segments:10,bounds:[20,2,2],volume:30})]}),e.jsx(ce,{}),s&&e.jsx(de,{}),e.jsx(he,{position:[28,10,-20]}),s?e.jsxs(e.Fragment,{children:[e.jsx("spotLight",{position:[-20,20,20],angle:.25,penumbra:1,intensity:14,color:"#22d3ee",castShadow:!0}),e.jsx("pointLight",{position:[20,10,20],intensity:4,color:"#c084fc",distance:50}),e.jsx("spotLight",{position:[0,10,-30],angle:.6,penumbra:.5,intensity:25,color:"#4f46e5",distance:100})]}):e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("directionalLight",{position:[10,10,5],intensity:1.5,color:"#88ccff"})]})]})};export{ge as default};
