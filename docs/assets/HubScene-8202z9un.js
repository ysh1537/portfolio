import{r as l,a as f,j as e,b as j,c as b,E as R,B as v}from"./index-DIejhpZU.js";import{E as S}from"./Environment-D1caa6hu.js";import{S as E}from"./Stars-C6_gKuB7.js";import{S as w}from"./Sparkles-DA8llxUF.js";import{F as G,H as z}from"./Float-DX9rMsZk.js";function O(a,c="pointer",n="auto",s=document.body){l.useEffect(()=>{if(a)return s.style.cursor=c,()=>void(s.style.cursor=n)},[a])}const g=({position:a=[0,0,0],label:c,targetScene:n,color:s})=>{const i=j(h=>h.setScene),[r,u]=l.useState(!1),t=l.useRef();O(r);const{playHover:o,playClick:m}=b();f(()=>{t.current&&(t.current.rotation.y+=.01,t.current.rotation.x+=.005)});const[d]=l.useState(()=>2+Math.random()),p=()=>{switch(n){case"lab01":return e.jsxs("group",{ref:t,children:[e.jsxs("mesh",{scale:1.2,children:[e.jsx("boxGeometry",{args:[1,1,1]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:0,metalness:1,transparent:!0,opacity:.3,wireframe:!0})]}),e.jsxs("mesh",{scale:.7,rotation:[Math.PI/4,Math.PI/4,0],children:[e.jsx("boxGeometry",{args:[1,1,1]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:.1,metalness:.9,emissive:s,emissiveIntensity:r?2:.8})]})]});case"lab02":return e.jsxs("mesh",{ref:t,children:[e.jsx("icosahedronGeometry",{args:[.8,2]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:.4,metalness:.6,emissive:s,emissiveIntensity:r?1.5:.3,clearcoat:1,clearcoatRoughness:.1})]});case"lab03":return e.jsxs("mesh",{ref:t,scale:r?1.2:1,children:[e.jsx("sphereGeometry",{args:[.7,32,32]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:.2,metalness:.8,transparent:!0,opacity:.7,emissive:s,emissiveIntensity:r?2.5:1})]});case"lab04":return e.jsx("group",{ref:t,children:e.jsxs("mesh",{children:[e.jsx("octahedronGeometry",{args:[.9]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:0,metalness:1,wireframe:!0,emissive:s,emissiveIntensity:r?2:1})]})});case"profile":return e.jsxs("group",{ref:t,children:[e.jsxs("mesh",{children:[e.jsx("icosahedronGeometry",{args:[1,0]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:0,metalness:1,emissive:s,emissiveIntensity:r?3:1.5,wireframe:!0})]}),e.jsxs("mesh",{scale:.6,children:[e.jsx("icosahedronGeometry",{args:[1,0]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:.1,metalness:.9,emissive:s,emissiveIntensity:2})]})]});default:return e.jsxs("mesh",{ref:t,children:[e.jsx("boxGeometry",{args:[1,1,1]}),e.jsx("meshPhysicalMaterial",{color:s,roughness:.1,metalness:.8,emissive:s,emissiveIntensity:r?2:.5})]})}};return e.jsxs("group",{position:a,onClick:h=>{h.stopPropagation(),m(),i(n)},onPointerEnter:()=>{u(!0),o()},onPointerLeave:()=>u(!1),children:[e.jsxs(G,{speed:d,rotationIntensity:.5,floatIntensity:.5,children:[p(),e.jsx("pointLight",{distance:5,intensity:r?8:3,color:s})]}),e.jsx(z,{position:[0,-1.2,0],center:!0,transform:!0,distanceFactor:10,zIndexRange:[100,0],style:{pointerEvents:"auto"},children:e.jsx("button",{onClick:h=>{h.stopPropagation(),m(),i(n)},onPointerEnter:()=>{u(!0),o()},onPointerLeave:()=>u(!1),className:"px-4 py-2 rounded-full backdrop-blur-md border border-white/20 transition-all duration-300 group hover:scale-110 hover:border-white/50 hover:bg-white/10",style:{backgroundColor:r?`${s}33`:"transparent",borderColor:r?s:"rgba(255,255,255,0.2)",boxShadow:r?`0 0 20px ${s}`:"none",color:"white",fontFamily:"monospace",fontWeight:"bold",fontSize:"12px",letterSpacing:"0.1em",whiteSpace:"nowrap"},children:c})})]})},C=({xRadius:a,zRadius:c,color:n,speedOffset:s})=>{const i=l.useRef(),r=l.useMemo(()=>{const t=new R(0,0,a,c,0,2*Math.PI,!1,0).getPoints(100);return new v().setFromPoints(t)},[a,c]);return f(u=>{if(i.current){const t=u.clock.getElapsedTime(),o=1+Math.sin(t*.5*s)*.05;i.current.scale.set(o,o,1)}}),e.jsx("line",{ref:i,geometry:r,rotation:[-Math.PI/2,0,0],children:e.jsx("lineBasicMaterial",{color:n,transparent:!0,opacity:.3})})},H=()=>{const a=l.useMemo(()=>[{label:"LAB 01 [SHADER]",target:"lab01",color:"#06b6d4",xRadius:8,zRadius:5,inclination:[Math.PI/6,0,Math.PI/8],speedOffset:1.2},{label:"LAB 02 [PHYSICS]",target:"lab02",color:"#7c3aed",xRadius:6,zRadius:9,inclination:[-Math.PI/4,Math.PI/6,0],speedOffset:.9},{label:"LAB 03 [AUDIO]",target:"lab03",color:"#facc15",xRadius:10,zRadius:6,inclination:[0,Math.PI/12,-Math.PI/10],speedOffset:.7},{label:"LAB 04 [DEBUG]",target:"lab04",color:"#00ff41",xRadius:7,zRadius:7,inclination:[Math.PI/3,-Math.PI/4,Math.PI/6],speedOffset:1.5}],[]),c=l.useRef(new Array(a.length).fill(null)),n=l.useRef(new Array(a.length).fill(0));return l.useEffect(()=>{n.current=a.map(()=>Math.random())},[a]),f((s,i)=>{const r=j.getState().orbitSpeed,u=s.clock.getElapsedTime();a.forEach((t,o)=>{const m=2*Math.PI*Math.sqrt((t.xRadius**2+t.zRadius**2)/2),d=r*10*t.speedOffset;n.current[o]+=d*i/m*5;const p=n.current[o]%1;if(c.current[o]){const h=p*2*Math.PI,x=1+Math.sin(u*.5*t.speedOffset)*.05,y=t.xRadius*x,P=t.zRadius*x,M=Math.cos(h)*y,I=Math.sin(h)*P;c.current[o].position.set(M,0,I)}})}),e.jsxs("group",{position:[0,-1,0],children:[e.jsx(S,{preset:"city"}),e.jsx(E,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),e.jsx(w,{count:500,scale:20,size:4,speed:.4,opacity:.5,color:"#ffffff"}),e.jsx("fog",{attach:"fog",args:["#050510",10,50]}),e.jsxs("group",{children:[e.jsx(g,{position:[0,0,0],label:"IDENTITY [PROFILE]",targetScene:"profile",color:"#fbbf24"}),e.jsx("spotLight",{position:[-10,10,10],angle:.3,penumbra:1,intensity:10,color:"#06b6d4"}),e.jsxs("mesh",{position:[0,-8,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[100,100]}),e.jsx("meshStandardMaterial",{color:"#050505",roughness:.4,metalness:.8})]}),e.jsx("gridHelper",{args:[50,50,2236962,328965],position:[0,-7.9,0]})]}),a.map((s,i)=>e.jsxs("group",{rotation:s.inclination,children:[e.jsx(C,{xRadius:s.xRadius,zRadius:s.zRadius,color:s.color,speedOffset:s.speedOffset}),e.jsx("group",{ref:r=>c.current[i]=r,children:e.jsx(g,{label:s.label,targetScene:s.target,color:s.color})})]},i))]})};export{H as default};
